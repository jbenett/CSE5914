(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,n){e.exports=n(282)},139:function(e,t,n){},260:function(e,t,n){e.exports=n.p+"static/media/logo.37d60c66.PNG"},261:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(27),a=n.n(i),s=(n(139),n(75)),c=n(49),u=n(9),l=n(15),g=n(17),p=n(16),d=n(18),h=(n(141),n(22)),m=n(286),f=n(19);function b(){var e=Object(h.a)(["\n  position: absolute;\n  left: 1rem;\n  top: 1rem;\n  background-color: white;\n  border-radius: 3px;\n  height: 6rem;\n  width: 6rem;\n  ","\n"]);return b=function(){return e},e}var v=Object(f.b)(m.a)(b(),function(e){return e.theme.dropShadow.subtle}),x=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,{id:"logo",src:n(260)}))}}]),t}(o.Component);function y(){var e=Object(h.a)(["\n  color: ",";\n"]);return y=function(){return e},e}var S=f.b.b(y(),function(e){return e.theme.primary}),O=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"result-item",onMouseEnter:function(){e.props.onHoverSuggestion(e.props.original)},onMouseLeave:function(){e.props.onHoverSuggestion()}},r.a.createElement("div",null,r.a.createElement("div",{className:"result-options",onClick:function(){e.props.removeSuggestion(e.props.id)}},"\u24e7"),r.a.createElement("p",null,'"',this.props.contextPrefix," ",r.a.createElement("span",{className:"strike-through"},this.props.original)," ",this.props.contextSuffix,'"'),r.a.createElement("p",null,'"',this.props.contextPrefix," ",r.a.createElement(S,null," ",this.props.quote," ")," ",this.props.contextSuffix,'"'),r.a.createElement("button",{type:"button",onClick:function(){e.props.takeSuggestion(e.props.id)}},"Take Suggestion"),r.a.createElement("div",{className:"result-profile"},r.a.createElement("img",{className:"profile-items profile-items--image",src:this.props.image}),r.a.createElement("p",{className:"profile-items profile-items--text"},this.props.author))))}}]),t}(o.Component),j=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.displayed?"sidebar-container sidebar-displayed":"sidebar-container"},r.a.createElement("div",{className:this.props.loading?"loader hug-sidebar":"hug-sidebar"}),this.props.suggestions.map(function(t){var n=t.source,o=t.text,i=t.author,a=(t.image,t.id);return r.a.createElement(O,{author:i,quote:o,contextPrefix:"",original:n,image:"https://pbs.twimg.com/profile_images/822547732376207360/5g0FC8XX_400x400.jpg",key:a,id:a,removeSuggestion:e.props.removeSuggestion,takeSuggestion:e.props.takeSuggestion,onHoverSuggestion:e.props.onHoverSuggestion})}))}}]),t}(o.Component);function E(){var e=Object(h.a)(["\n    padding: 0.5rem 0.75rem;\n    background-color: white;\n    border-radius: 3px;\n    font-family: ",";\n    font-weight: bold;\n    position: absolute;\n    bottom: 15px;\n    left: 15px;\n    transition: 150ms all;\n    ","\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n        background-color: ",";\n        ","\n    }\n"]);return E=function(){return e},e}var w=f.b.div(E(),function(e){return e.theme.fontFamily},function(e){return e.theme.dropShadow.subtle},function(e){return e.theme.primary},function(e){return e.theme.dropShadow.regular}),_=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null,"\ud83e\udd11\xa0Support The Boys\xa0\ud83e\udd11"))}}]),t}(o.Component),k=(n(261),Object.freeze({fontFamily:"'Muli', sans-serif",primary:"#5ce5c2",fontColor:{regular:"#232323",regularPlaceholder:"#757575"},reset:{input:"\n            -webkit-highlight: none;\n            -webkit-appearance: none;\n            outline: none;\n        "},dropShadow:{subtle:"\n            -webkit-box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\n            -moz-box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\n            box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\n        ",regular:"\n            -webkit-box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\n            -moz-box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\n            box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\n        "}})),T=n(123),C=n.n(T);function F(){var e=Object(h.a)(["\n    width: 60%;\n"]);return F=function(){return e},e}function N(){var e=Object(h.a)(["\n    font-family: ",";\n    color: ",";\n    padding: 0 2rem 2rem;\n    font-size: 1.25rem;\n    margin-top: 0;\n    ","\n"]);return N=function(){return e},e}function B(){var e=Object(h.a)(["\n    font-family: ",";\n    color: ",";\n    padding: 2rem;\n    margin-bottom: 0;\n    font-size: 2rem;\n    border: none;\n    font-weight: bold;\n    display: block;\n    width: 100%;\n    ","\n\n    &::placeholder {\n        color: ",";\n    }\n"]);return B=function(){return e},e}var H=f.b.input(B(),function(e){return e.theme.fontFamily},function(e){return e.theme.fontColor.regular},function(e){return e.theme.reset.input},function(e){return e.theme.fontColor.regularPlaceholder}),D=Object(f.b)(C.a)(N(),function(e){return e.theme.fontFamily},function(e){return e.theme.fontColor.regular},function(e){return e.theme.reset.input}),L=f.b.div(F()),M=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r))))._placeholderText="My amazing text",n._htmlInjections=['<span style="color:#757575;">','<span style="background-color: #FFB3B3">',"</span>"],n._getText=function(){var e=n.props,t=e.text;return e.editing||t?t:n._placeholderText},n._getHtmlFromText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n._getText();return t?(e&&t.includes(e)&&(t=t.replace(e,'<span style="background-color:#FFB3B3">'.concat(e,"</span>"))),t=t.replace(),'<span style="color:#757575;">'.concat(t,"</span>")):t},n._getTextFromHtml=function(e){return e.includes("</span>")?e.slice(29,-7):e},n._onChangeTitle=function(e){n.props.setTitle(e.target.value)},n._onChangeBody=function(e){n.props.setText(n._getTextFromHtml(e.target.value))},n._onFocusBody=function(e){n.props.setEditorFocus(!0)},n._onBlurBody=function(e){n.props.setEditorFocus(!1)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement(L,null,r.a.createElement(H,{name:"EditorContenteditable__Title",type:"text",value:e,onChange:this._onChangeTitle,placeholder:"My Lovely Title"}),r.a.createElement(D,{className:"EditorContenteditable__Body",tagName:"pre",html:this._getHtmlFromText(this.props.highlighted),onFocus:this._onFocusBody,onBlur:this._onBlurBody,onChange:this._onChangeBody}))}}]),t}(o.Component);function z(){var e=Object(h.a)(["\n    flex: 2 0 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"]);return z=function(){return e},e}var A=f.b.div(z()),P=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(M,this.props))}}]),t}(o.Component),q=n(124),I=n.n(q),W=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(u.a)(this,e),this.markSentenceAsDone=function(e){e in t.sentences&&(t.sentences[e]=t.SentenceState.DONE,t.suggestions=t.suggestions.filter(function(t){return t.source!=e}))},this.removeSuggestionById=function(e){t.suggestions=t.suggestions.filter(function(t){return t.id!=e})},this.query=function(e){for(var n=Object.keys(t.sentences),o=function(){var o=n[r];if(t.sentences[o]==t.SentenceState.NEW){I.a.post("http://127.0.0.1:5000/discovery/suggest/",{sentence:o}).then(function(t){e(o,t.data.map(function(e){return{id:Math.random().toString(36).substring(2),source:o,text:e.text,author:e.author||"anonymous",image:e.image||"not a url"}}))}).catch(function(t){console.log(t),e(o,[{id:Math.random().toString(36).substring(2),source:o,text:"placeholder text since the query didnt work",author:"anonymous",image:"not a url"}])})}},r=0;r<n.length;r++)o()},this.SentenceState={NEW:1,QUERYING:2,DONE:3},this.sentences={},this.suggestions=[],n.split(".").forEach(function(e){var n=e.trim();n&&(t.sentences[n]=o[n]||t.SentenceState.NEW)}),r.forEach(function(e){t.sentences[e.source]&&t.suggestions.push(Object(c.a)({},e))})},Q=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",text:"",highlighted:"",sentences:{},suggestions:[],editing:!1,displaySidebar:!1,displayLoader:!1,debounceTimer:new Date},n._toggleSidebar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.state.displaySidebar;n.setState({displaySidebar:null!==e?e:t})},n._toggleLoader=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({displayLoader:e})},n._onChangeText=function(e){var t=new W(e,n.state.sentences,n.state.suggestions);n.setState({debounceTimer:new Date,text:e,sentences:t.sentences,suggestions:t.suggestions}),n._debouncedQuery(t)},n._debouncedQuery=function(e){setTimeout(function(){(new Date).getTime()-n.state.debounceTimer.getTime()>=1e3&&(n._toggleLoader(!0),e.query(function(t,o){if(n.state.sentences[t]!=e.SentenceState.DONE){var r=Object(c.a)({},n.state.sentences);r[t]=e.SentenceState.DONE,n.setState({sentences:r,suggestions:[].concat(Object(s.a)(n.state.suggestions),Object(s.a)(o)),displaySidebar:!0}),n._toggleLoader(!1)}}))},1e3)},n._removeSuggestion=function(e){var t=n.state.suggestions.find(function(t){return t.id==e}),o=new W(n.state.text,n.state.sentences,n.state.suggestions);o.markSentenceAsDone(t.source),o.removeSuggestionById(e),n.setState({suggestions:o.suggestions,displaySidebar:o.suggestions.length>0,highlighted:""})},n._takeSuggestion=function(e){var t=n.state.text,o=n.state.suggestions.find(function(t){return t.id==e});o&&(t=t.replace(o.source,o.text));var r=new W(t,n.state.sentences,n.state.suggestions);r.markSentenceAsDone(o.text),n.setState({text:t,sentences:r.sentences,suggestions:r.suggestions})},n._onHoverSuggestion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.setState({highlighted:e})},n._onChangeTitle=function(e){n.setState({title:e})},n._onFocusEditor=function(e){n.setState({editing:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.text,o=e.editing,i=e.suggestions,a=e.displaySidebar,s=e.displayLoader;return r.a.createElement(f.a,{theme:k},r.a.createElement("div",{className:"App"},r.a.createElement(x,null),r.a.createElement(P,{setText:this._onChangeText,setTitle:this._onChangeTitle,setEditorFocus:this._onFocusEditor,title:t,text:n,highlighted:this.state.highlighted,editing:o}),r.a.createElement(_,null),r.a.createElement(j,{displayed:a,loading:s,suggestions:i,removeSuggestion:this._removeSuggestion,takeSuggestion:this._takeSuggestion,onHoverSuggestion:this._onHoverSuggestion})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.97856412.chunk.js.map