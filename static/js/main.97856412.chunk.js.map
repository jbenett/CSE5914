{"version":3,"sources":["components/logo.PNG","components/DemoHeader.js","components/DemoResultItem.js","components/DemoResultSidebar.js","components/Footer.js","constants/theme.js","components/editor/editor-contenteditable.js","components/editor/editor.js","contentHandler.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","LogoImage","styled","Image","_templateObject","props","theme","dropShadow","subtle","DemoHeader","react_default","a","createElement","id","src","require","Component","Suggestion","b","DemoResultItem_templateObject","primary","DemoResultItem","_this","this","className","onMouseEnter","onHoverSuggestion","original","onMouseLeave","onClick","removeSuggestion","contextPrefix","contextSuffix","quote","type","takeSuggestion","image","author","DemoResultSidebar","displayed","loading","suggestions","map","_ref","source","text","components_DemoResultItem","key","SupportUs","div","Footer_templateObject","fontFamily","regular","Footer","Object","freeze","fontColor","regularPlaceholder","reset","input","TitleInput","editor_contenteditable_templateObject","BodyContentEditable","ContentEditable","_templateObject2","EditorContenteditableWrapper","_templateObject3","EditorContenteditable","_placeholderText","_htmlInjections","_getText","_this$props","editing","_getHtmlFromText","highlighted","arguments","length","undefined","includes","replace","concat","_getTextFromHtml","html","slice","_onChangeTitle","e","setTitle","target","value","_onChangeBody","setText","_onFocusBody","setEditorFocus","_onBlurBody","title","name","onChange","placeholder","tagName","onFocus","onBlur","EditorWrapper","editor_templateObject","Editor","editor_contenteditable_EditorContenteditable","ContentHandler","oldSentences","oldSuggestions","classCallCheck","markSentenceAsDone","sentence","sentences","SentenceState","DONE","filter","suggestion","removeSuggestionById","sug","query","setStateCallback","_arr","keys","_loop","_i","NEW","axios","post","then","response","data","Math","random","toString","substring","catch","error","console","log","QUERYING","split","forEach","cleanedSentence","trim","push","objectSpread","App","state","displaySidebar","displayLoader","debounceTimer","Date","_toggleSidebar","force","setState","_toggleLoader","_onChangeText","newText","content","_debouncedQuery","setTimeout","getTime","results","updatedSentences","toConsumableArray","_removeSuggestion","find","_takeSuggestion","_onHoverSuggestion","newTitle","_onFocusEditor","_this$state","styled_components_browser_esm","components_DemoHeader","editor_Editor","components_Footer","components_DemoResultSidebar","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.97856412.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.37d60c66.PNG\";","import React, { Component } from \"react\";\r\nimport { Header, Image, Menu } from \"semantic-ui-react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LogoImage = styled(Image)`\r\n  position: absolute;\r\n  left: 1rem;\r\n  top: 1rem;\r\n  background-color: white;\r\n  border-radius: 3px;\r\n  height: 6rem;\r\n  width: 6rem;\r\n  ${props => props.theme.dropShadow.subtle}\r\n`;\r\n\r\nclass DemoHeader extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <LogoImage id=\"logo\" src={require(\"./logo.PNG\")} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DemoHeader;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Suggestion = styled.b`\r\n  color: ${props => props.theme.primary};\r\n`;\r\n\r\nclass DemoResultItem extends Component {\r\n  static propTypes = {\r\n    author: PropTypes.string,\r\n    quote: PropTypes.string,\r\n    contextPrefix: PropTypes.string,\r\n    original: PropTypes.string,\r\n    image: PropTypes.string,\r\n    id: PropTypes.string,\r\n    removeSuggestion: PropTypes.func.isRequired,\r\n    takeSuggestion: PropTypes.func.isRequired,\r\n    onHoverSuggestion: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div \r\n        className=\"result-item\" \r\n        onMouseEnter={() => {this.props.onHoverSuggestion(this.props.original);} }\r\n        onMouseLeave={() => {this.props.onHoverSuggestion();} }\r\n      >\r\n        <div>\r\n          <div className=\"result-options\" onClick={()=>{this.props.removeSuggestion(this.props.id)} }>ⓧ</div>\r\n          <p>\r\n            \"{this.props.contextPrefix}{\" \"}\r\n            <span className=\"strike-through\">{this.props.original}</span>{\" \"}\r\n            {this.props.contextSuffix}\"\r\n          </p>\r\n          <p>\r\n            \"{this.props.contextPrefix}{\" \"}\r\n            <Suggestion> {this.props.quote} </Suggestion>{\" \"}\r\n            {this.props.contextSuffix}\"\r\n          </p>\r\n          <button type=\"button\" onClick={()=>{ this.props.takeSuggestion(this.props.id)}}>Take Suggestion</button>\r\n          <div className=\"result-profile\">\r\n            <img\r\n              className=\"profile-items profile-items--image\"\r\n              src={this.props.image}\r\n            />\r\n            <p className=\"profile-items profile-items--text\">\r\n              {this.props.author}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DemoResultItem;\r\n","import React, { Component } from \"react\";\r\nimport DemoResultItem from \"./DemoResultItem.js\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DemoResultSidebar extends Component {\r\n    static propTypes = {\r\n        displayed: PropTypes.bool,\r\n        loading: PropTypes.bool,\r\n        suggestions: PropTypes.array,\r\n        removeSuggestion: PropTypes.func.isRequired,\r\n        takeSuggestion: PropTypes.func.isRequired,\r\n        onHoverSuggestion: PropTypes.func.isRequired\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={\r\n                    this.props.displayed\r\n                        ? \"sidebar-container sidebar-displayed\"\r\n                        : \"sidebar-container\"\r\n                }\r\n            >\r\n            <div className={this.props.loading? \"loader hug-sidebar\":\"hug-sidebar\"}></div>\r\n            { this.props.suggestions.map(({ source, text, author, image, id }) => {\r\n                return <DemoResultItem\r\n                    author={author}\r\n                    quote={text}\r\n                    contextPrefix=\"\"\r\n                    original={source}\r\n                    image=\"https://pbs.twimg.com/profile_images/822547732376207360/5g0FC8XX_400x400.jpg\"\r\n                    key={id}\r\n                    id={id}\r\n                    removeSuggestion={this.props.removeSuggestion}\r\n                    takeSuggestion={this.props.takeSuggestion}\r\n                    onHoverSuggestion={this.props.onHoverSuggestion}\r\n                />;\r\n            })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DemoResultSidebar;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SupportUs = styled.div`\r\n    padding: 0.5rem 0.75rem;\r\n    background-color: white;\r\n    border-radius: 3px;\r\n    font-family: ${props => props.theme.fontFamily};\r\n    font-weight: bold;\r\n    position: absolute;\r\n    bottom: 15px;\r\n    left: 15px;\r\n    transition: 150ms all;\r\n    ${props => props.theme.dropShadow.subtle}\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        color: white;\r\n        background-color: ${props => props.theme.primary};\r\n        ${props => props.theme.dropShadow.regular}\r\n    }\r\n`;\r\n\r\nclass Footer extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SupportUs>🤑&nbsp;Support The Boys&nbsp;🤑</SupportUs>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;\r\n","const theme = Object.freeze({\r\n    fontFamily: \"'Muli', sans-serif\",\r\n    primary: \"#5ce5c2\",\r\n    fontColor: {\r\n        regular: \"#232323\",\r\n        regularPlaceholder: \"#757575\"\r\n    },\r\n    reset: {\r\n        input: `\r\n            -webkit-highlight: none;\r\n            -webkit-appearance: none;\r\n            outline: none;\r\n        `\r\n    },\r\n    dropShadow: {\r\n        subtle: `\r\n            -webkit-box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\r\n            -moz-box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\r\n            box-shadow: 0px 0px 23px -1px rgba(35, 35, 35, 0.15);\r\n        `,\r\n        regular: `\r\n            -webkit-box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\r\n            -moz-box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\r\n            box-shadow: 0px 0px 23px 1px rgba(35, 35, 35, 0.20);\r\n        `\r\n    }\r\n});\r\n\r\nexport default theme;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ContentEditable from \"react-contenteditable\";\r\nimport styled from \"styled-components\";\r\n\r\nconst TitleInput = styled.input`\r\n    font-family: ${props => props.theme.fontFamily};\r\n    color: ${props => props.theme.fontColor.regular};\r\n    padding: 2rem;\r\n    margin-bottom: 0;\r\n    font-size: 2rem;\r\n    border: none;\r\n    font-weight: bold;\r\n    display: block;\r\n    width: 100%;\r\n    ${props => props.theme.reset.input}\r\n\r\n    &::placeholder {\r\n        color: ${props => props.theme.fontColor.regularPlaceholder};\r\n    }\r\n`;\r\n\r\nconst BodyContentEditable = styled(ContentEditable)`\r\n    font-family: ${props => props.theme.fontFamily};\r\n    color: ${props => props.theme.fontColor.regular};\r\n    padding: 0 2rem 2rem;\r\n    font-size: 1.25rem;\r\n    margin-top: 0;\r\n    ${props => props.theme.reset.input}\r\n`;\r\n\r\nconst EditorContenteditableWrapper = styled.div`\r\n    width: 60%;\r\n`;\r\n\r\nexport default class EditorContenteditable extends Component {\r\n    static propTypes = {\r\n        setText: PropTypes.func.isRequired,\r\n        setTitle: PropTypes.func.isRequired,\r\n        setEditorFocus: PropTypes.func.isRequired,\r\n        title: PropTypes.string,\r\n        text: PropTypes.string,\r\n        highlighted: PropTypes.string, \r\n        editing: PropTypes.bool,\r\n        loading: PropTypes.bool\r\n    };\r\n\r\n    _placeholderText = 'My amazing text';\r\n    _htmlInjections = [\r\n        '<span style=\"color:#757575;\">',\r\n        '<span style=\"background-color: #FFB3B3\">',\r\n        '</span>'\r\n    ];\r\n\r\n    _getText = () => {\r\n        const { text, editing } = this.props;\r\n        if (!editing && !text) {\r\n            return this._placeholderText;\r\n        }\r\n        return text;\r\n    };\r\n\r\n    _getHtmlFromText = (highlighted=\"\") => {\r\n        let text = this._getText();\r\n        if (text) {\r\n            if (highlighted && text.includes(highlighted)) {\r\n                text = text.replace(highlighted, `<span style=\"background-color:#FFB3B3\">${highlighted}</span>`);\r\n            }\r\n            text = text.replace()\r\n            return `<span style=\"color:#757575;\">${text}</span>`;\r\n        } else {\r\n            return text;\r\n        }\r\n    };\r\n\r\n    _getTextFromHtml = ( html ) => {\r\n        if (html.includes(\"</span>\")) {\r\n            return html.slice(29, -7);\r\n        } else {\r\n            return html;\r\n        }\r\n    };\r\n\r\n    _onChangeTitle = e => {\r\n        this.props.setTitle(e.target.value);\r\n    };\r\n\r\n    _onChangeBody = e => {\r\n        this.props.setText(this._getTextFromHtml(e.target.value));\r\n    };\r\n\r\n    _onFocusBody = e => {\r\n        this.props.setEditorFocus(true);\r\n    };\r\n\r\n    _onBlurBody = e => {\r\n        this.props.setEditorFocus(false);\r\n    };\r\n\r\n    render() {\r\n        const { title } = this.props;\r\n\r\n        return (\r\n            <EditorContenteditableWrapper>\r\n                <TitleInput\r\n                    name=\"EditorContenteditable__Title\"\r\n                    type=\"text\"\r\n                    value={title}\r\n                    onChange={this._onChangeTitle}\r\n                    placeholder=\"My Lovely Title\"\r\n                />\r\n                <BodyContentEditable\r\n                    className=\"EditorContenteditable__Body\"\r\n                    tagName=\"pre\"\r\n                    html={this._getHtmlFromText(this.props.highlighted)}\r\n                    onFocus={this._onFocusBody}\r\n                    onBlur={this._onBlurBody}\r\n                    onChange={this._onChangeBody}\r\n                />\r\n            </EditorContenteditableWrapper>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nimport EditorContenteditable from \"./editor-contenteditable\";\r\n\r\nconst EditorWrapper = styled.div`\r\n    flex: 2 0 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport default class Editor extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <EditorWrapper>\r\n                <EditorContenteditable { ...this.props } />\r\n            </EditorWrapper>\r\n        );\r\n    }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport default class ContentHandler {\r\n\t// object shape:\r\n\t// {\r\n\t// \tSentenceState: { enums },\r\n\t// \tsentences: { string: SentenceState value },\r\n\t// \tsuggestions: [\r\n\t// \t\t{\r\n\t// \t\t\tid: string,\r\n\t// \t\t\tsource: string, \r\n\t// \t\t\ttext: string, \r\n\t// \t\t\tauthor: string,\r\n\t// \t\t\timage: url\r\n\t// \t\t}\r\n\t// \t]\r\n\t// }\r\n\r\n\tconstructor(text=\"\", oldSentences={}, oldSuggestions=[]){\r\n\t\tthis.SentenceState = {\r\n\t\t\tNEW: 1,\r\n\t\t\tQUERYING: 2,\r\n\t\t\tDONE: 3,\r\n\t\t};\r\n\t\tthis.sentences = {};\r\n\t\tthis.suggestions = [];\r\n\r\n\t\ttext.split(\".\").forEach((sentence) => {\r\n\t\t\tvar cleanedSentence = sentence.trim(); // Got rid of lowercase to be able to perform replace function easier\r\n\t\t\tif (cleanedSentence) {\r\n\t\t\t\tthis.sentences[cleanedSentence] = oldSentences[cleanedSentence] || this.SentenceState.NEW;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\toldSuggestions.forEach((suggestion) => {\r\n\t\t\tif (this.sentences[suggestion.source]) {\r\n\t\t\t\tthis.suggestions.push({ ...suggestion });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tmarkSentenceAsDone = (sentence) => {\r\n\t\tif (sentence in this.sentences) {\r\n\t\t\tthis.sentences[sentence] = this.SentenceState.DONE;\r\n\t\t\tthis.suggestions = this.suggestions.filter((suggestion) => suggestion.source != sentence);\r\n\t\t}\r\n\t};\r\n\r\n\tremoveSuggestionById = (id) => {\r\n\t\tthis.suggestions = this.suggestions.filter((sug) => sug.id != id);\r\n\t};\r\n\r\n\tquery = (setStateCallback) => {\r\n\t\tfor (let sentence of Object.keys(this.sentences)) {\r\n\t\t\tif (this.sentences[sentence] == this.SentenceState.NEW) {\r\n\t\t\t\tconst url='http://127.0.0.1:5000/discovery/suggest/'; // TODO this'll need to change \r\n\t\t\t\taxios.post(url, { sentence }).then(function (response) {\r\n\t\t\t\t\tsetStateCallback(sentence, response.data.map((sug) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tid: Math.random().toString(36).substring(2), \r\n\t\t\t\t\t\t\t\tsource: sentence,\r\n\t\t\t\t\t\t\t\ttext: sug.text,\r\n\t\t\t\t\t\t\t\tauthor: sug.author || 'anonymous',\r\n\t\t\t\t\t\t\t\timage: sug.image || 'not a url'\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}).catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tsetStateCallback(sentence, [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: Math.random().toString(36).substring(2), \r\n\t\t\t\t\t\t\tsource: sentence,\r\n\t\t\t\t\t\t\ttext: \"placeholder text since the query didnt work\",\r\n\t\t\t\t\t\t\tauthor: \"anonymous\",\r\n\t\t\t\t\t\t\timage: \"not a url\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}","import React, { Component } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport DemoHeader from \"./components/DemoHeader\";\r\nimport DemoResultSidebar from \"./components/DemoResultSidebar\";\r\nimport Footer from \"./components/Footer\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport \"./App.css\";\r\n\r\nimport theme from \"./constants/theme\";\r\nimport Editor from \"./components/editor\";\r\nimport ContentHandler from './contentHandler'\r\n\r\nclass App extends Component {\r\n  state = {\r\n    title: \"\",\r\n    text: \"\",\r\n    highlighted: \"\",\r\n    sentences: {},\r\n    suggestions: [],\r\n    editing: false,\r\n    displaySidebar: false,\r\n    displayLoader: false,\r\n    debounceTimer: new Date()\r\n  };\r\n\r\n  _toggleSidebar = (force = null) => {\r\n    const { displaySidebar } = this.state;\r\n    this.setState({ displaySidebar: force !== null ? force : displaySidebar });\r\n  };\r\n\r\n  _toggleLoader = (displayLoader = false) => {\r\n    this.setState({ displayLoader });\r\n  };\r\n\r\n  _onChangeText = (newText) => {\r\n    const content = new ContentHandler(newText, this.state.sentences, this.state.suggestions);\r\n    this.setState({ \r\n      debounceTimer: new Date(),\r\n      text: newText,\r\n      sentences: content.sentences,\r\n      suggestions: content.suggestions \r\n    });\r\n    this._debouncedQuery(content);\r\n  };\r\n\r\n  _debouncedQuery = (content) => {\r\n    const debounceDelay = 1000;\r\n    setTimeout(() => {\r\n      const now = new Date();\r\n      if (now.getTime() - this.state.debounceTimer.getTime() >= debounceDelay) {\r\n        this._toggleLoader(true);\r\n        content.query((sentence, results) => {\r\n          // Currently its possible to query for the same sentence twice if the request takes \r\n          // longer to return than the debounce timeout. The following line is a hacky way to \r\n          // ignore the repeated suggestions, but does still make the suggestions\r\n          if (this.state.sentences[sentence] == content.SentenceState.DONE) return;\r\n          const updatedSentences = { ...this.state.sentences };\r\n          updatedSentences[sentence] = content.SentenceState.DONE;\r\n          this.setState({ \r\n            sentences: updatedSentences,\r\n            suggestions: [ ...this.state.suggestions, ...results],\r\n            displaySidebar: true\r\n          });\r\n          this._toggleLoader(false);\r\n        });\r\n      }\r\n    }, debounceDelay);\r\n  };\r\n\r\n  _removeSuggestion = (id) => {\r\n    const suggestion = this.state.suggestions.find((sug) => sug.id == id);\r\n    const content = new ContentHandler(this.state.text, this.state.sentences, this.state.suggestions);\r\n    content.markSentenceAsDone(suggestion.source);\r\n    content.removeSuggestionById(id);\r\n    this.setState({ \r\n      suggestions: content.suggestions, \r\n      displaySidebar: content.suggestions.length > 0, \r\n      highlighted: ''\r\n    });\r\n  };\r\n\r\n  _takeSuggestion = (id) => {\r\n    let newText = this.state.text;\r\n    const suggestion = this.state.suggestions.find((sug) => sug.id == id);\r\n    if (suggestion) { \r\n      newText = newText.replace(suggestion.source, suggestion.text); // Currently only replaces one occurrence \r\n    }\r\n    const content = new ContentHandler(newText, this.state.sentences, this.state.suggestions);\r\n    content.markSentenceAsDone(suggestion.text);\r\n    this.setState({ \r\n      text: newText,\r\n      sentences: content.sentences,\r\n      suggestions: content.suggestions \r\n    });\r\n  };\r\n\r\n  _onHoverSuggestion = ( text='') => {\r\n    this.setState({ highlighted: text });\r\n  };\r\n\r\n  _onChangeTitle = (newTitle) => {\r\n    this.setState({ title: newTitle });\r\n  };\r\n\r\n  _onFocusEditor = (editing) => {\r\n    this.setState({ editing });\r\n  };\r\n\r\n  render() {\r\n    const { title, text, editing, suggestions, displaySidebar, displayLoader } = this.state;\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div className=\"App\">\r\n          <DemoHeader />\r\n          <Editor \r\n            setText={this._onChangeText}\r\n            setTitle={this._onChangeTitle}\r\n            setEditorFocus={this._onFocusEditor}\r\n            title={title}\r\n            text={text}\r\n            highlighted={this.state.highlighted}\r\n            editing={editing}\r\n          />\r\n          <Footer />\r\n          <DemoResultSidebar \r\n            displayed={displaySidebar} \r\n            loading={displayLoader} \r\n            suggestions={suggestions} \r\n            removeSuggestion={this._removeSuggestion}\r\n            takeSuggestion={this._takeSuggestion}\r\n            onHoverSuggestion={this._onHoverSuggestion}\r\n          />\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}